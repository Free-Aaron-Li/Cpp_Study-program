## ç¬¬10ç« 

## å‰è¨€

åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ å®¹å™¨çš„æ—¶å€™ï¼Œæ˜¯å¦å‘ç°æ ‡å‡†åº“ä¸‹çš„å¯¹å®¹å™¨çš„æ“ä½œå¹¶ä¸æ˜¯å¤ªå¤šï¼ˆæˆ–è®¸ï¼Œåˆå­¦æ—¶å·²ç»è§‰å¾—å¥½å¤šäº†ğŸ˜…ï¼‰ï¼Œå…¶å®C++å°†å¤§é‡çš„åŠŸèƒ½æ“ä½œé›†æˆåœ¨æ³›å‹ç®—æ³•ä¸­ã€‚æ³›å‹ï¼ˆgenericï¼‰ï¼Œå³é€šç”¨ï¼Œæ„ä¸ºå…¶ç‹¬ç«‹äºä»»ä½•ç‰¹å®šçš„å®¹å™¨ï¼Œæ“ä½œäºä¸åŒç±»å‹çš„å®¹å™¨å’Œä¸åŒç±»å‹çš„å…ƒç´ ã€‚
å›æƒ³ä¸€ä¸‹ï¼Œåœ¨å­¦ä¹ é¡ºåºå®¹å™¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å“ªäº›å®¹å™¨æ“ä½œï¼Ÿ

æ·»åŠ ã€åˆ é™¤å®¹å™¨å…ƒç´ ï¼›å®¹å™¨æ˜¯å¦ä¸ºç©ºï¼›è·å–å®¹å™¨å…ƒç´ çš„è¿­ä»£å™¨ï¼›è®¿é—®é¦–å°¾å…ƒç´ ï¼›

ä»¥ä¸Šçš„æ“ä½œä»…ä»…åªæ˜¯å¯¹å®¹å™¨çš„åŸºç¡€æ“ä½œï¼Œæˆ‘ä»¬å¹¶ä¸æ»¡è¶³ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿå¯¹å®¹å™¨è¿›è¡Œæ’åºã€æœç´¢ã€æ›¿æ¢ç­‰ç­‰æ“ä½œã€‚å¦‚æœå¯¹æ¯ä¸ªç‰¹å®šçš„å®¹å™¨éƒ½è®¾ç½®å¯¹åº”çš„æ“ä½œç®—æ³•ï¼Œè¿™æ˜¾ç„¶ä¼šä½¿å¾—å¯¹å®¹å™¨çš„æ“ä½œå˜å¾—å¤æ‚ã€æ‚ä¹±ã€‚æ‰€ä»¥ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®¹å™¨ä»…æä¾›å°‘é‡çš„æ“ä½œï¼Œå› ä¸ºæ ‡å‡†åº“å°†å¤§é‡çš„æ“ä½œè¿›è¡Œé›†åˆï¼Œå½¢æˆæ³›å‹ç®—æ³•ã€‚

---

## 10.1 æ¦‚è¿°

å¤§å¤šæ•°çš„ç®—æ³•éƒ½å®šä¹‰åœ¨`algorithm`ä¸­ï¼Œå…¶ä¸­åœ¨`numeric`å¤´æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ç»„æ•°å€¼æ³›å‹ç®—æ³•ã€‚

ç®—æ³•æ˜¯å¦‚ä½•ç‹¬ç«‹äºç‰¹å®šçš„å®¹å™¨çš„å‘¢ï¼Ÿå›æƒ³ä¸€ä¸‹ï¼Œæ¯ä¸ªå®¹å™¨éƒ½å­˜åœ¨è¿­ä»£å™¨ï¼Œé€šè¿‡è¿­ä»£å™¨æˆ‘ä»¬å¯ä»¥è‡ªç”±è®¿é—®ã€æ“ä½œå®¹å™¨ã€‚æ‰€ä»¥ï¼Œå®é™…ä¸Šç®—æ³•å¹¶ä¸ä¼šç›´æ¥æ“ä½œå®¹å™¨ï¼Œè€Œæ˜¯é€šè¿‡è¿­ä»£å™¨
**é—´æ¥**æ“ä½œå®¹å™¨ã€‚

ä¾‹å¦‚ï¼Œfindç®—æ³•ï¼ˆç”¨äºæŸ¥æ‰¾æŸé¡¹å€¼ï¼‰ï¼Œå…¶ç®—æ³•ä¾¿æ˜¯é€šè¿‡è¿­ä»£å™¨æŒ‡å®šä¸€ä¸ªå…ƒç´ èŒƒå›´ï¼Œé€šè¿‡**éå†**èŒƒå›´è¿›è¡ŒæŸ¥æ‰¾ã€‚

```cpp
#include <iostream>
#include <vector>
#include <algorithm>

int main(){
    std::vector<int> vector{1,2,3,4,5,6,7};
    int value=2;
    auto result=std::find(vector.cbegin(),vector.cend(),value);
    std::cout   << "The result "<< value <<" "
                << (result==vector.cend()? "does not exist in this vector":"does exist in this vector")
                << std::endl;
}
```

ä»ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œfindç®—æ³•æ˜¯ç›´æ¥æ“ä½œè¿­ä»£å™¨ï¼Œæ‰€ä»¥é™¤äº†å¯ä»¥ä½¿ç”¨findç®—æ³•æŸ¥æ‰¾vectorä¸­å…ƒç´ ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŸ¥æ‰¾stringä¸­çš„å…ƒç´ ï¼Œç”šè‡³æ˜¯å†…ç½®æ•°ç»„ä¸­å…ƒç´ ã€‚

```cpp
// find character
std::string str("hi good morning!");
char value('h');
auto result=std::find(str.cbegin(),str.cend(),value);

// find number
int assemble[]={1,2,3,4,5,6,7};
int value=3;
int *result=std::find(std::begin(assemble),std::end(assemble),value);
```

### findç®—æ³•çš„å·¥ä½œåŸç†

1. è®¿é—®åºåˆ—ä¸­çš„é¦–å…ƒç´ 
2. æ¯”è¾ƒæ­¤å…ƒç´ ä¸ç›®æ ‡å…ƒç´ 
3. ä¸ç›®æ ‡å…ƒç´ åŒ¹é…ï¼Œè¿”å›æ ‡è¯†æ­¤å…ƒç´ çš„å€¼
4. è‹¥æ²¡æœ‰åŒ¹é…ï¼ŒfindæŸ¥æ‰¾ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œé‡å¤æ­¥éª¤2å’Œ3
5. è‹¥åˆ°è¾¾åºåˆ—å°¾ï¼Œfindåœæ­¢
6. è‹¥åˆ°è¾¾åºåˆ—å°¾ï¼Œä¾æ—§æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œè¿”å›æŒ‡å‡ºå…ƒç´ æœªæ‰¾åˆ°çš„å€¼ã€‚ä¸”æ­¤å€¼å’Œæ­¥éª¤3ä¸­è¿”å›å€¼å…·æœ‰ç›¸å®¹ç±»å‹

ä»ä¸Šé¢æ­¥éª¤æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œfindç®—æ³•åœ¨æ‰€æœ‰æ­¥éª¤ä¸Šéƒ½**ä¸ä¾èµ–**å®¹å™¨ä¸­æ‰€ä¿å­˜çš„å…ƒç´ ç±»å‹ã€‚å› æ­¤ï¼Œåªè¦é€šè¿‡è¿­ä»£å™¨è®¿é—®å…ƒç´ ï¼Œfindç®—æ³•å°±å®Œå…¨ä¸ä¾èµ–å®¹å™¨ç±»å‹ï¼Œç”šè‡³æ— éœ€ç†ä¼šå…¶æ˜¯å¦æ˜¯ä¸æ˜¯å®¹å™¨ã€‚

ä½†æ˜¯ï¼Œè™½ç„¶é€šè¿‡è¿­ä»£å™¨ç®—æ³•ä¸ä¾èµ–äºå®¹å™¨ï¼Œä½†æ˜¯ç®—æ³•**ä¾èµ–äºå…ƒç´ ç±»å‹çš„æ“ä½œ
**ã€‚è¿™å¬èµ·æ¥æŒºå¥‡æ€ªçš„ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ­£åƒä¸Šé¢ä¾‹å­ä¸€æ ·ï¼Œ`result==vector.cend()`ï¼Œfindç®—æ³•åœ¨å®é™…è¿è¡Œä¸­ï¼Œä½¿ç”¨`==`è¿ç®—ç¬¦å¯¹å…ƒç´ è¿›è¡Œåˆ¤æ–­ã€‚ç±»ä¼¼äºfindï¼Œå¤§å¤šæ•°ç®—æ³•éƒ½ä¼šä½¿ç”¨åˆ°ä¸€ä¸ªï¼ˆæˆ–è€…å¤šä¸ªï¼‰å…ƒç´ ç±»å‹çš„æ“ä½œï¼Œæ‰€ä»¥ç®—æ³•ä¾èµ–äºå…ƒç´ ç±»å‹çš„æ“ä½œï¼Œä½†å¹¶ä¸ä¾èµ–äºå®¹å™¨ã€‚

### ç®—æ³•æ°¸è¿œä¸ä¼šæ‰§è¡Œå®¹å™¨æ“ä½œ

**æ³›å‹ç®—æ³•æœ¬èº«ä¸ä¼šæ‰§è¡Œå®¹å™¨çš„æ“ä½œï¼Œå®ƒä»¬æŒ‡æŒ¥è¿è¡Œäºè¿­ä»£å™¨ä¹‹ä¸Šï¼Œæ‰§è¡Œè¿­ä»£å™¨çš„æ“ä½œ**ã€‚

æ­£å› ä¸ºå¦‚æ­¤ï¼Œç®—æ³•æ°¸è¿œä¸ä¼šæ”¹å˜åº•å±‚å®¹å™¨çš„å¤§å°ï¼Œç®—æ³•å¯ä»¥åˆ é™¤ã€æ·»åŠ ã€ç§»åŠ¨å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä½†å…¶éƒ½æ˜¯åŸºäºè¿­ä»£å™¨å®ç°ï¼Œç®—æ³•æœ¬èº«å¹¶ä¸ä¼šåšå‡ºè¿™æ ·çš„æ“ä½œã€‚

## 10.2 åˆè¯†æ³›å‹ç®—æ³•

åœ¨æ ‡å‡†åº“ä¸­å­˜åœ¨100ä½™ç§ç®—æ³•ï¼Œæƒ³è¦é€šè¿‡æ­»è®°çš„æ–¹å¼æ˜¾ç„¶æ˜¯å›°éš¾çš„ã€‚ä½†æ˜¯è¿™äº›ç®—æ³•éƒ½å…·æœ‰ä¸€è‡´çš„ç»“æ„ï¼ˆä¹Ÿå°±æ˜¯ç»Ÿä¸€åŸåˆ™ï¼‰ï¼Œé€šè¿‡ç†è§£æ­¤ç»“æ„æ— ç–‘æ˜¯äº‹åŠåŠŸå€ã€‚

å¤§å¤šæ•°çš„æ ‡å‡†åº“ç®—æ³•éƒ½æ˜¯å¯¹ä¸€ä¸ªèŒƒå›´çš„å…ƒç´ ï¼ˆå³â€œè¾“å…¥èŒƒå›´â€ï¼‰è¿›è¡Œæ“ä½œã€‚å¦‚å‰é¢æ‰€å­¦çš„findç®—æ³•ï¼Œæ¥å—è¾“å…¥èŒƒå›´çš„ç®—æ³•æ€»æ˜¯é€šè¿‡å‰ä¸¤ä¸ªå‚æ•°ï¼ˆä¸€èˆ¬æ˜¯ä¸¤ä¸ªè¡¨ç¤ºæŒ‡å‘èŒƒå›´è¾¹ç•Œå…ƒç´ çš„è¿­ä»£å™¨ï¼‰è¡¨ç¤ºæ­¤èŒƒå›´ã€‚

å¤§å¤šæ•°æ ‡å‡†åº“ç®—æ³•å¯¹è¾“å…¥èŒƒå›´çš„éå†ç±»ä¼¼ï¼ˆä¸€èˆ¬ç»“æ„ï¼‰ï¼Œåªä¸è¿‡å¯¹èŒƒå›´å†…çš„å…ƒç´ æ“ä½œä¸åŒã€‚

### åªè¯»ç®—æ³•

å¦‚å…¶åï¼ŒæŸäº›ç®—æ³•ä»…è¯»å–è¾“å…¥èŒƒå›´ä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸ä¼šæ”¹å˜å…ƒç´ ï¼Œåˆ™æˆä¸ºåªè¯»ç®—æ³•ã€‚å¦‚æˆ‘ä»¬åœ¨å‰é¢æ‰€å­¦åˆ°çš„findå’Œcountç®—æ³•ã€‚ä¸‹é¢æˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸¤ä¸ªåªè¯»ç®—æ³•ï¼šç”¨äºæ±‚å’Œçš„accumulateç®—æ³•å’Œç”¨äºæ¯”è¾ƒä¸¤åºåˆ—çš„equalç®—æ³•ã€‚

#### accumulateç®—æ³•

è¯¥ç®—æ³•å®šä¹‰åœ¨`numeric`å¤´æ–‡ä»¶ä¸­ã€‚å…¶æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œå‰ä¸¤ä¸ªå‚æ•°ç¡®å®šè¾“å…¥èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºå’Œçš„åˆå€¼ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ç±»å‹*
*å†³å®šå‡½æ•°è¯¥ä½¿ç”¨å“ªç§åŠ æ³•è¿ç®—ç¬¦ä»¥åŠè¿”å›å€¼ç±»å‹**ã€‚

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
#include <numeric>

int main(){
    std::vector<int> assemble{1,2,3,4,5,6,7};
    int sum=std::accumulate(assemble.cbegin(),assemble.cend(),0);
    std::cout << "the sum for assemble is :"<<sum << std::endl;
}
```

accumulateç®—æ³•ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºæ±‚å’Œèµ·ç‚¹ï¼Œæ­£å¦‚ä¸Šé¢æ‰€æè¿°çš„ä»£ç ï¼Œå…¶è•´å«ä¸€ä¸ªç¼–ç¨‹**å‡è®¾
**ï¼šè¯¥ç¬¬ä¸‰å‚æ•°ç±»å‹å¿…é¡»èƒ½å¤Ÿä¸è¾“å…¥èŒƒå›´å†…å…ƒç´ ç›¸åŠ ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»èƒ½ä¸ä¹‹åŒ¹é…ï¼ˆæˆ–è€…è½¬æ¢ï¼‰ã€‚å¦‚ï¼šè¾“å…¥èŒƒå›´å†…å…ƒç´ ç±»å‹ä¸ºintï¼Œé‚£ä¹ˆç¬¬ä¸‰å‚æ•°ç±»å‹å¯ä»¥ä¸ºdoubleã€long longç­‰ç­‰ã€‚

å¦å¤–ä¸€ä¸ªä¾‹å­ï¼š

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>
#include <numeric>

int main(){
    std::vector<std::string> assemble{"hello ","world! ","welcome ","to ","new ","home!"};
    std::string sum=std::accumulate(assemble.cbegin(),assemble.cend(),std::string(""));
    std::cout << "the sum for assemble is :"<<sum << std::endl;
}
```

ç¬¬ä¸‰å‚æ•°å®šä¹‰ä¸º`string("")`ï¼Œé‚£ä¹ˆå…¶å®å°±å‘Šè¯‰accumulateç®—æ³•æˆ‘çš„åˆå€¼æ˜¯stringç±»å‹çš„ç©ºä¸²ï¼Œæˆ‘è¦å°†vectorä¸­stringç±»å‹å…ƒç´ åŠ èµ·æ¥ï¼Œå¹¶ä¸”è¿”å›ä¸ºstringã€‚

é‚£ä¹ˆä¸ºä»€ä¹ˆç¬¬ä¸‰å‚æ•°ä¸ç›´æ¥å†™æˆ`""`ï¼Œé¦–å…ˆåœ¨å­¦ä¹ stringæ—¶æˆ‘ä»¬çŸ¥é“`""`æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå…¶ä¸èƒ½ä½œä¸ºç¬¬ä¸€å‚æ•°ä¸å…¶ä»–stringç±»å‹çš„å­—ç¬¦ä¸²ç›¸åŠ ã€‚å› ä¸ºå­—ç¬¦ä¸²å­—é¢å€¼å…¶ç±»å‹ä¸º`const char*`ï¼Œè¯¥ç±»å‹å¹¶æ²¡æœ‰â€œ+â€è¿ç®—ç¬¦ï¼Œæ€ä¹ˆèƒ½å¤Ÿç›¸åŠ å‘¢ï¼Ÿï¼ˆä½†æ˜¯æˆ‘ä»¬å¯ä»¥è¿™æ ·`string+const char*`ï¼Œè¿™æ˜¯ä¸ºCåšå‡ºçš„å¦¥åï¼‰

#### equalç®—æ³•

equalï¼Œè¯‘ä¸ºå¹³ç­‰ã€‚è¯¥ç®—æ³•ä½œç”¨ä¸ºæ¯”è¾ƒä¸¤ä¸ªåºåˆ—æ˜¯å¦ç›¸ç­‰ã€‚åŒæ ·è¯¥ç®—æ³•å…·æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œå‰ä¸¤ä¸ªå‚æ•°ç”¨äºç¡®å®šç¬¬ä¸€ä¸ªåºåˆ—çš„è¾“å…¥èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åˆ™ç”¨äºç¡®å®šç¬¬äºŒä¸ªåºåˆ—çš„é¦–å…ƒç´ ã€‚

è¿™é‡ŒåŒæ ·å­˜åœ¨ä¸€ä¸ªéšå«ç¼–ç¨‹å‡è®¾ï¼šé‚£å°±æ˜¯**å‡è®¾ç¬¬äºŒåºåˆ—çš„é•¿åº¦è‡³å°‘å’Œç¬¬ä¸€åºåˆ—é•¿åº¦ä¸€æ ·é•¿**ï¼Œæˆ–è€…æ›´é•¿ï¼Œå› ä¸ºequalç®—æ³•ä»…ç¡®å®šç¬¬äºŒåºåˆ—çš„é¦–å…ƒç´ ï¼Œå¹¶æ²¡æœ‰ç¡®å®šå…¶å°¾å…ƒç´ ã€‚

```cpp
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>

int main(){
    std::vector<int> vector_1{1,2,3};
    std::vector<int> vector_2{1,2,3};
    bool result=std::equal(vector_1.cbegin(),vector_1.cend(),vector_2.cbegin());
    std::cout << (result==true?"there two vector is equal":"there two vector isn't equal") << std::endl;
}
```

> è¿­ä»£å™¨å‚æ•°
>
> 1. ç®—æ³•ä»…è¦æ±‚èƒ½å¤Ÿæ¯”è¾ƒä¸¤ä¸ªåºåˆ—ä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸ä¼šå¯¹åºåˆ—å±äºé‚£ç§ç±»å‹åšå‡ºè¦æ±‚ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šä¸¥æ ¼è¦æ±‚ä¸¤æ¯”è¾ƒåºåˆ—ä¸­å…ƒç´ ç›¸åŒã€‚
> 2. åœ¨æ“ä½œä¸¤ä¸ªåºåˆ—çš„ç®—æ³•ä¸­ï¼Œå¦‚æœæŸäº›ç®—æ³•ä»…æ¥å—ä¸‰ä¸ªè¿­ä»£å™¨ï¼Œé‚£ä¹ˆé»˜è®¤å‰ä¸¤ä¸ªå‚æ•°ç¡®å®šç¬¬ä¸€åºåˆ—çš„å…ƒç´ èŒƒå›´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ç¡®å®šç¬¬äºŒä¸ªåºåˆ—ä¸­çš„é¦–å…ƒç´ ã€‚å¦‚æœæ¥å—å››ä¸ªè¿­ä»£å™¨ï¼Œåˆ™å‰ä¸¤ä¸ªå‚æ•°ç¡®å®šç¬¬ä¸€ä¸ªåºåˆ—å…ƒç´ èŒƒå›´ï¼Œåä¸¤ä¸ªå‚æ•°ç¡®å®šç¬¬äºŒä¸ªåºåˆ—çš„å…ƒç´ èŒƒå›´ã€‚
> 3. ä»…æ¥å—å•ä¸€è¿­ä»£å™¨è¡¨ç¤ºç¬¬äºŒä¸ªåºåˆ—çš„ç®—æ³•éƒ½**å‡å®š**ç¬¬äºŒä¸ªåºåˆ—è‡³å°‘å’Œç¬¬ä¸€ä¸ªåºåˆ—ä¸€æ ·é•¿ï¼Œç®—æ³•å¹¶ä¸åšå‡ºä¿è¯ï¼ˆè¿™æ˜¯ç¨‹åºå‘˜çš„è´£ä»»ï¼‰ã€‚

ä¸€ä¸ªå¾ˆæœ‰è¶£çš„ç°è±¡æ˜¯åœ¨å®Œæˆ10.5ç»ƒä¹ é¢˜æ—¶ï¼Œä¼šå‘ç°equalç®—æ³•å…¶å®å¯¹â€œ==â€è¿ç®—ç¬¦åšäº†é‡è½½ï¼Œæ‰€ä»¥æ— è®ºæ˜¯å¯¹stringè¿˜æ˜¯Cé£æ ¼å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒéƒ½æ˜¯å¯è¡Œçš„ã€‚

åœ¨æ—©äº›ç‰ˆæœ¬çš„æ ‡å‡†åº“ä¸­ï¼Œequalç®—æ³•å¹¶ä¸èƒ½å¯¹Cé£æ ¼å­—ç¬¦ä¸²ä¸­å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå…¶æ¯”è¾ƒçš„æ˜¯æŒ‡é’ˆä½ç½®ã€‚

### å†™å®¹å™¨å…ƒç´ çš„ç®—æ³•

ä¸€äº›ç®—æ³•ä¼šå°†æ–°å€¼èµ‹äºˆåºåˆ—ä¸­çš„å…ƒç´ ï¼ˆæ³¨æ„ï¼šä¸æ˜¯æ”¹å˜å®¹å™¨çš„å¤§å°ï¼Œæ‰€ä»¥èµ‹äºˆæ–°å€¼æ•°ç›®å¿…å®šä¼šæ¯”åŸå®¹å™¨ä¸­å…ƒç´ æ•°ç›®å°ï¼Œæˆ–è€…ç›¸ç­‰ï¼‰ã€‚

è¿™äº›ç®—æ³•æœ¬è´¨ä¸Šä»…ä»…æ”¹å˜å®¹å™¨ä¸­å·²å­˜åœ¨çš„å…ƒç´ ï¼Œä¸ä¼šè¶Šç•Œæ‰€ä»¥å¹¶ä¸å±é™©ã€‚

ä¾‹å¦‚ï¼Œfillï¼ˆå¡«æ»¡ï¼‰ç®—æ³•å°±æ˜¯å°†ç¬¬ä¸‰å‚æ•°æ›¿æ¢è¾“å…¥èŒƒå›´å†…æ‰€æœ‰å…ƒç´ ã€‚

```cpp
#include <vector>
#include <list>
#include <string>
#include <iostream>

int main(){
    std::vector<int> vector{1,2,3,4,5,6,7};
    std::fill(vector.begin(),vector.end(),0);
    for(auto const &c:vector)
        std::cout << c << " ";
}
```

#### ç®—æ³•ä¸æ£€æŸ¥å†™æ“ä½œ

å¦‚æ ‡é¢˜æ‰€è¨€ï¼Œç®—æ³•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½ä¼šå‡å®šå‚æ•°æ˜¯æ­£ç¡®çš„ï¼Œä¾‹å¦‚ï¼šfill_nç®—æ³•ï¼ˆå…¶æ¥å—ä¸€ä¸ªç›®çš„ä½ç½®ï¼Œå¹¶å‘è¯¥åºåˆ—ä¸­èµ‹äºˆæŒ‡å®šæ•°ç›®çš„æ–°å€¼ï¼‰ã€‚

```cpp
#include <vector>
#include <list>
#include <string>
#include <iostream>

int main(){
    std::vector<int> vector(10);
    // å‘vectoråºåˆ—ä¸­èµ‹äºˆ10ä¸ª1
    std::fill_n(vector.begin(),10,1);
    for(auto const &c:vector)
        std::cout << c << " ";
}
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å†™æ˜äº†vectorå®¹å™¨ä¸­å«æœ‰10ä¸ªå…ƒç´ ï¼Œä½†æ˜¯å‡å¦‚æˆ‘ä»¬å°†vectorè®¾ç½®ä¸ºç©ºå‘¢ï¼š

```bash
 './main' terminated by signal SIGSEGV (Address boundary error)
```

g++ç»™å‡ºå¦‚ä¸Šçš„æç¤ºï¼Œå‘Šè¯‰æˆ‘ä»¬è¶Šç•Œäº†ï¼Œè¯´æ˜fill_nç®—æ³•æ‰§è¡Œï¼ˆåŒæ ·è¯´æ˜ç®—æ³•å¹¶ä¸ä¼šæ£€æŸ¥å†™æ“ä½œï¼‰ã€‚

#### ä»‹ç»back_inserter

åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ çš„è¿­ä»£å™¨éƒ½æ˜¯ä¸ºäº†æŒ‡å‘ä¸€ä¸ªç¡®åˆ‡å…ƒç´ ï¼Œä½†æ˜¯æ˜¾ç„¶åœ¨æŸäº›æƒ…å†µä¸‹å¹¶ä¸èƒ½æ»¡è¶³å®é™…éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°
**æ’å…¥è¿­ä»£å™¨**ï¼ˆinsert_iteratorï¼‰ã€‚æ’å…¥è¿­ä»£å™¨çš„ç›®çš„å°±æ˜¯å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ ã€‚

ä½¿ç”¨æ’å…¥è¿­ä»£å™¨ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡**back_inserter**å‡½æ•°ï¼Œå…¶å®šä¹‰åœ¨iteratoræ–‡ä»¶ä¸­ã€‚

back_inserteræ¥å—ä¸€ä¸ªæŒ‡å‘å®¹å™¨çš„å¼•ç”¨ï¼Œè¿”å›ä¸€ä¸ªä¸è¯¥å®¹å™¨ç»‘å®šçš„æ’å…¥è¿­ä»£å™¨ã€‚å½“å‘æ­¤è¿­ä»£å™¨èµ‹å€¼æ—¶ï¼Œèµ‹å€¼è¿ç®—ç¬¦ä¼šè°ƒç”¨push_backå°†ä¸€ä¸ªå…·æœ‰ä¸ªé¡¶å€¼çš„å…ƒç´ æ·»åŠ åˆ°å®¹å™¨ä¸­ã€‚

```cpp
#include <vector>
#include <iostream>
#include <iterator>

int main(){
    std::vector<int> vector;
    auto insert_iterator=std::back_inserter(vector);
    insert_iterator=12;
    for(auto const &c:vector)
        std::cout << c << " ";
}
```

å›åˆ°æˆ‘ä»¬æ‰€è®¨è®ºçš„fill_nç®—æ³•ï¼Œç”±äºæ— æ³•é€šè¿‡`vec.begin()`ä½œä¸ºç›®çš„ä½ç½®ä¸ºç©ºå®¹å™¨è¿›è¡Œå†™æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦é€šè¿‡back_inserterå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½œä¸ºç®—æ³•çš„ç›®çš„ä½ç½®ä½¿ç”¨ã€‚

```cpp
#include <vector>
#include <iostream>
#include <iterator>

int main(){
    std::vector<int> vector;
    std::fill_n(back_inserter(vector),10,1);
    for(auto const &c:vector)
        std::cout << c << " ";
}
```

æ¯æ¬¡è¿­ä»£ï¼Œback_inserterè¿”å›çš„æ’å…¥è¿­ä»£å™¨éƒ½ä¼šè°ƒç”¨push_backæˆå‘˜åœ¨å®¹å™¨æœ«å°¾æ·»åŠ æŒ‡å®šå‡½æ•°ã€‚

#### æ‹·è´ç®—æ³•

æ‹·è´ï¼ˆcopyï¼‰ç®—æ³•ä½œç”¨ä¾¿æ˜¯å‘å¦ä¸€ä¸ªæŒ‡å®šç›®çš„ä½ç½®çš„è¿­ä»£å™¨æ‰€æŒ‡å‘è¾“å‡ºåºåˆ—ä¸­çš„å…ƒç´ ä¸­å†™å…¥æ•°æ®ã€‚

è¯¥ç®—æ³•æ¥å—ä¸‰ä¸ªè¿­ä»£å™¨ï¼Œæ‰€ä»¥éšå«è¢«æ‹·è´å¯¹è±¡çš„é•¿åº¦è‡³å°‘æ¯”è¾“å…¥åºåˆ—çš„é•¿åº¦é•¿ï¼Œæˆ–è€…ç›¸ç­‰ã€‚

```cpp
#include <iostream>

#include <vector>
#include <list>


int main(){
    std::vector<int> vector{1,2,3,4,5};
    std::list<int> list{0,9,8,7,6,5};

    auto post_tail=copy(vector.cbegin(),vector.cend(),list.begin());
    for(auto const &c:list)
        std::cout << c << " ";
}
```

copyç®—æ³•è¿”å›å…¶ç›®çš„ä½ç½®è¿­ä»£å™¨çš„å€¼ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªå€¼æ˜¯ç»è¿‡é€’å¢åçš„ï¼‰ï¼Œå³listçš„å°¾åè¿­ä»£å™¨ã€‚

åœ¨æœ‰äº›ç®—æ³•ä¸­ï¼Œå…¶â€œæ‹·è´â€ç‰ˆæœ¬ï¼Œå¹¶ä¸ä¼šå°†å…¶æ”¾åœ¨è¾“å…¥åºåˆ—çš„æœ«å°¾ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°åºåˆ—ä¿å­˜ã€‚

å¦‚ï¼Œreplaceç®—æ³•ï¼Œå…¶æœ¬èº«æ˜¯æ›¿æ¢åºåˆ—ä¸­å…ƒç´ ã€‚

```cpp
replace(vector.begin(),vector.end(),0,1);
```

å°†vectorå®¹å™¨ä¸­æ‰€æœ‰å€¼ä¸º0çš„å…ƒç´ æ›¿æ¢ä¸º1

å¦‚æœæˆ‘ä»¬å¸Œæœ›åŸåºåˆ—ä¸å˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨replace_copyç®—æ³•ã€‚

```cpp
replace_copy(vector.cbegin(),vector.cend(),back_inserter(list),0,1)
```

é€šè¿‡`back_inserter`åˆ›å»ºä¸€ä¸ªæ–°åºåˆ—ï¼Œå…¶åŸåºåˆ—vectorä¸å˜ï¼Œæ‹·è´ä¸€ä»½vectorä¸­å…ƒç´ äºlistä¸­ï¼Œä¸”å…¶ä¸­å€¼ä¸º0çš„å…ƒç´ è¢«æ›¿æ¢ä¸º1ã€‚

### é‡æ’å®¹å™¨å…ƒç´ çš„ç®—æ³•

sortç®—æ³•ï¼Œå…¶é€šè¿‡åˆ©ç”¨å…ƒç´ ç±»å‹çš„<è¿ç®—ç¬¦å®ç°æ’åºã€‚

uniqueç®—æ³•ï¼Œè¦†ç›–é‡å¤å…ƒç´ ã€‚

## 10.3 å®šåˆ¶æ“ä½œ

åœ¨å‰é¢æˆ‘ä»¬å­¦åˆ°çš„ç®—æ³•å¤§å¤šä½¿ç”¨åˆ°äº†å…ƒç´ ç±»å‹çš„<æˆ–è€…=è¿ç®—ç¬¦è¿›è¡Œå…ƒç´ æ¯”è¾ƒã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ï¼šå½“æˆ‘ä»¬å¯¹æœªå®šä¹‰<è¿ç®—ç¬¦çš„å…ƒç´ ç±»å‹è¿›è¡Œæ¯”è¾ƒã€‚

### å‘ç®—æ³•ä¼ é€’å‡½æ•°

**è°“è¯**(predicate)

è°“è¯æ˜¯ä¸€ä¸ªå¯è°ƒç”¨çš„è¡¨è¾¾å¼ï¼Œå…¶è¿”å›ç»“æœæ˜¯ä¸€ä¸ªèƒ½ç”¨ä½œæ¡ä»¶çš„å€¼ã€‚

æ ‡å‡†åº“ç®—æ³•æ‰€ä½¿ç”¨çš„è°“è¯åˆ†ä¸ºä¸¤ç±»ï¼š**ä¸€å…ƒè°“è¯**(unary predicate) å’Œ**äºŒå…ƒè°“è¯**(binary predicate)ã€‚

- ä¸€å…ƒè°“è¯ï¼šæ„å‘³ç€å®ƒä»¬æ˜¯æ¥å—å•ä¸€å‚æ•°
- äºŒå…ƒè°“è¯ï¼šæ„å‘³ç€å®ƒä»¬æœ‰ä¸¤ä¸ªå‚æ•°

æ¥å—è°“è¯å‚æ•°çš„ç®—æ³•å¯¹è¾“å…¥åºåˆ—ä¸­çš„å…ƒç´ è°ƒç”¨è°“è¯ï¼Œå› æ­¤ï¼Œå…ƒç´ ç±»å‹å¿…é¡»èƒ½å¤Ÿè½¬æ¢ä¸ºè°“è¯çš„å‚æ•°ç±»å‹ã€‚

### lambdaè¡¨è¾¾å¼

> ä½¿ç”¨åœºæ™¯
>
> å¯¹äºé‚£ç§åªåœ¨ä¸€ä¸¤ä¸ªåœ°æ–¹ä½¿ç”¨çš„ç®€å•æ“ä½œï¼Œlambdaè¡¨è¾¾å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚

æ— è®ºæ˜¯ä¸€å…ƒè¿˜æ˜¯äºŒå…ƒè°“è¯ï¼Œæˆ‘ä»¬ä¼ é€’å¿…é¡»ä¸¥æ ¼æ‰§è¡Œæ¥å—å‚æ•°çš„æ•°ç›®ï¼Œæ˜¾ç„¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹è¿™å—åˆ°äº†é™åˆ¶ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ç§éœ€æ±‚ï¼šæ±‚å¤§äºç­‰äºä¸€ä¸ªç»™å®šçš„å•è¯ï¼Œæ‰“å°ç¬¦åˆè¦æ±‚çš„å•è¯ã€‚

> ä»è¦æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„find_ifç®—æ³•æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå…·æœ‰ç‰¹å®šå¤§å°çš„å…ƒç´ ï¼Œæ¥ä¸‹æ¥åªéœ€è¦è®¾å®šå¥½è¦æ±‚å³å¯ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨è°“è¯ä½œä¸ºfind_ifç®—æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ˜¾ç„¶æ— æ³•æ»¡è¶³éœ€æ±‚ï¼ˆå› ä¸ºéœ€è¦å¯¹å•è¯è¿›è¡Œåˆ¤æ–­ï¼‰ã€‚

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼

åœ¨å‰é¢æˆ‘ä»¬å­¦è¿‡ä¸¤ç§å¯è°ƒç”¨å¯¹è±¡ï¼šå‡½æ•°ä¸å‡½æ•°æŒ‡é’ˆï¼Œé™¤æ­¤è¿˜æœ‰ï¼šé‡è½½äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„ç±»ä¸lambdaè¡¨è¾¾å¼ã€‚

ä¸€ä¸ªlambdaè¡¨è¾¾å¼è¡¨ç¤ºä¸€ä¸ªå¯è°ƒç”¨çš„ä»£ç å•å…ƒï¼Œå¯ç†è§£ä¸ºå†…è”å‡½æ•°ã€‚

> ä¸€èˆ¬çš„lambdaè¡¨è¾¾å¼å…·æœ‰ä¸€ä¸ªè¿”å›ç±»å‹ã€ä¸€ä¸ªå‚æ•°åˆ—è¡¨å’Œä¸€ä¸ªå‡½æ•°ä½“
>
> ä¸€èˆ¬ç»“æ„ï¼š
>
> [capture list\](parameter list)-> return type{function body}
>
> ç¤ºä¾‹ï¼š
> ```cpp
>   int  a = 10, b = 20;
>   auto c = [a, b](const int &c) -> int { return a + b + c; };
>   std::cout << "a + b + c = " << c(30) << "\n";
> ```
>
> éœ€è¦æ³¨æ„çš„æ˜¯ï¼š
>   1. lambdaå¿…é¡»ä½¿ç”¨å°¾ç½®è¿”å›æ¥æŒ‡å®šè¿”å›ç±»å‹
>   2. lambdaå¯ä»¥å¿½ç•¥å‚æ•°åˆ—è¡¨ä¸è¿”å›ç±»å‹ï¼Œä½†æ˜¯å¿…é¡»åŒ…å«æ•è·åˆ—è¡¨å’Œå‡½æ•°ä½“
>   3. å¦‚æœå¿½ç•¥è¿”å›ç±»å‹ï¼Œé‚£ä¹ˆlambdaæ ¹æ®å‡½æ•°ä½“ä¸­ä»£ç æ¨æ–­è¿”å›ç±»å‹(é»˜è®¤ä¸ºvoid)
>   4. lambdaä¸èƒ½å­˜åœ¨é»˜è®¤å‚æ•°
>   5. æ•è·åˆ—è¡¨åªç”¨äºå±€éƒ¨éstaticå˜é‡ï¼Œlambdaå¯ä»¥ç›´æ¥ä½¿ç”¨å±€éƒ¨staticå˜é‡å’Œåœ¨å®ƒæ‰€åœ¨å‡½æ•°ä¹‹å¤–å£°æ˜çš„åå­—

### lambdaæ•è·å’Œè¿”å›

å½“å®šä¹‰ä¸€ä¸ªlambdaæ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªä¸lambdaå¯¹åº”çš„æ–°çš„ç±»ç±»å‹ã€‚

æ‰€ä»¥ï¼Œå½“lambdaè¡¨è¾¾å¼æ•è·å˜é‡æ—¶ï¼Œç”±æ­¤ç”Ÿæˆçš„ç±»ç±»å‹ä¸­ä¹Ÿä¼šåŒ…å«å¯¹åº”äºæ•è·å˜é‡çš„æ•°æ®æˆå‘˜ï¼Œä¸”lambdaçš„æ•°æ®æˆå‘˜ä¼šéšç€lambdaå¯¹è±¡çš„åˆ›å»ºæ—¶è¢«åˆå§‹åŒ–ã€‚

ç±»ä¼¼å‚æ•°ä¼ é€’ï¼Œå˜é‡çš„æ•è·ä¹Ÿå¯ä»¥æ˜¯å€¼æˆ–è€…å¼•ç”¨ã€‚

#### å€¼æ•è·

> é‡‡ç”¨å€¼æ•è·çš„å‰ææ˜¯å˜é‡å¯ä»¥æ‹·è´

ä¸å‚æ•°å€¼ä¼ é€’ä¸åŒçš„æ˜¯ï¼Œè¢«æ•è·çš„å˜é‡çš„å€¼æ˜¯åœ¨lambdaåˆ›å»ºæ—¶æ‹·è´ï¼Œè€Œä¸æ˜¯åœ¨è°ƒç”¨æ—¶æ‹·è´ã€‚

```cpp
void function_1{
	size_t value=42;
    auto f=[value]{return value;}; // å°†valueæ‹·è´åˆ°få¯è°ƒç”¨å¯¹è±¡ä¸­
    value=0;
    auto j=f(); // jä»ç„¶ä¸º42ï¼Œfä¿å­˜äº†æˆ‘ä»¬åœ¨åˆ›å»ºå®ƒæ—¶valueçš„æ‹·è´
}
```

#### å¼•ç”¨æ•è·

å½“æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸èƒ½å¤Ÿæ‹·è´æ•è·å˜é‡ï¼ˆå¦‚IOå¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»ä½¿ç”¨å¼•ç”¨æ•è·ã€‚

ä¸å‚æ•°å¼•ç”¨ç±»ä¼¼ï¼Œ

``````cpp
void function_2{
    size_t value=42;
    auto f=[&value]{return value;}; // å°†valueæ‹·è´åˆ°få¯è°ƒç”¨å¯¹è±¡ä¸­
    value=0;
    auto j=f(); // jä»ç„¶ä¸º0ï¼Œfä¿å­˜äº†valueçš„å¼•ç”¨ï¼Œè€Œéæ‹·è´
};
``````

> å¼•ç”¨æ•è·å’Œè¿”å›å¼•ç”¨éƒ½æœ‰ç€ç›¸åŒçš„é—®é¢˜å’Œé™åˆ¶ã€‚
>
> å¦‚æœé‡‡ç”¨å¼•ç”¨æ–¹å¼æ•è·ä¸€ä¸ªå˜é‡ï¼Œå°±å¿…é¡»ç¡®ä¿è¢«å¼•ç”¨å¯¹è±¡åœ¨lambdaæ‰§è¡Œçš„æ—¶å€™æ˜¯å­˜åœ¨çš„ã€‚

> å»ºè®®
>
> å°½é‡ä¿æŒlambdaçš„å˜é‡æ•è·ç®€å•åŒ–
>
> ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘æ•è·çš„æ•°æ®é‡æ¥é¿å…æ½œåœ¨çš„æ•è·å¯¼è‡´çš„é—®é¢˜ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œåº”è¯¥é¿å…æ•è·æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚

#### éšå¼æ•è·

ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®lambdaä½“ä¸­çš„ä»£ç æ¨æ–­æˆ‘ä»¬è¦ä½¿ç”¨å“ªäº›å˜é‡ğŸ˜Šã€‚ä¸ºäº†æŒ‡ç¤ºç¼–è¯‘å™¨æ¨æ–­æ•è·åˆ—è¡¨ï¼Œåº”è¯¥åœ¨æ•è·åˆ—è¡¨ä¸­å†™å…¥&æˆ–è€…=ï¼Œä»¥è¡¨ç¤ºç¼–è¯‘å™¨åº”è¯¥é‡‡ç”¨å“ªç§æ•è·æ–¹å¼

ä¾‹å¦‚ï¼š

``````cpp
// éšå¼æ•è·
int sz=10;
auto a=[=](const string&s){return s.size()>=sz};
``````

æˆ‘ä»¬è¿˜ä¸æ»¡è¶³ï¼Œå¸Œæœ›å¯¹ä¸€éƒ¨åˆ†å˜æ¥èƒ½å¤Ÿé‡‡ç”¨å€¼æ•è·ï¼Œå¯¹å¦å¤–ä¸€éƒ¨åˆ†é‡‡ç”¨å¼•ç”¨æ•è·ï¼Œå¯ä»¥æ··åˆæ˜¾å¼ä¸éšå¼æ•è·ã€‚

é‚£ä¹ˆæˆ‘ä»¬éœ€è¦ï¼š

1. æ•è·åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯&æˆ–è€…=ï¼Œä»¥æ­¤æŒ‡å®šé»˜è®¤æ•è·æ–¹å¼ä¸ºå¼•ç”¨è¿˜æ˜¯å€¼ã€‚
2. æ˜¾ç¤ºæ•è·çš„å˜é‡å¿…é¡»ä½¿ç”¨ä¸éšå¼æ•è·ä¸åŒçš„æ–¹å¼ã€‚

ä¾‹å¦‚ï¼š

```cpp
int a=10,b=20;
/* aä¸ºéšå¼æ•è·ï¼Œå¼•ç”¨æ•è·æ–¹å¼ï¼›bä¸ºæ˜¾å¼æ•è·ï¼Œå€¼æ•è·æ–¹å¼ */
auto c=[&,b](const string&s){return s.size>=a+b;};
/* aä¸ºæ˜¾å¼æ•è·ï¼Œå¼•ç”¨æ•è·æ–¹å¼ï¼›bä¸ºéšå¼æ•è·ï¼Œå€¼æ•è·æ–¹å¼ */
auto c=[=,&a](const string&s){return s.size>=a+b;};
```

ç»¼ä¸Šæ‰€è¿°ï¼Œlambdaæ•è·æœ‰ä¸€ä¸‹æ–¹å¼ï¼š

|         lambdaæ•è·åˆ—è¡¨         |                                                          è§£é‡Š                                                          |
|:--------------------------:|:--------------------------------------------------------------------------------------------------------------------:|
|             []             |                                    ç©ºæ•è·åˆ—è¡¨ã€‚lambdaä¸èƒ½ä½¿ç”¨æ‰€åœ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚ä¸€ä¸ªlambdaåªæœ‰æ•è·å˜é‡åæ‰èƒ½ä½¿ç”¨å®ƒä»¬                                    |
|       [<i>names</i>]       |              <i>names</i>æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åå­—åˆ—è¡¨ï¼Œè¿™äº›åå­—éƒ½æ˜¯lambdaæ‰€åœ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•è·åˆ—è¡¨ä¸­çš„å˜é‡**éƒ½è¢«æ‹·è´**ã€‚åå­—å‰å¦‚æœä½¿ç”¨äº†&ï¼Œåˆ™é‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼               |
|             &              |                                    éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨å¼•ç”¨æ•è·æ–¹å¼ã€‚lambdaä½“ä¸­æ‰€ä½¿ç”¨çš„æ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å®ä½“éƒ½é‡‡ç”¨å¼•ç”¨æ–¹å¼ä½¿ç”¨                                    |
|            [=]             |                                       éšå¼æ•è·åˆ—è¡¨ï¼Œé‡‡ç”¨å€¼æ•è·æ–¹å¼ã€‚lambdaä½“å°†æ‹·è´æ‰€ä½¿ç”¨çš„æ¥æ‰€åœ¨å‡½æ•°çš„å®ä½“çš„å€¼                                        |
| [&,<i>identifier_list</i>] | <i>identifier_list</i>æ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„åˆ—è¡¨ï¼ŒåŒ…å«0ä¸ªæˆ–å¤šä¸ªæ¥è‡ªæ‰€åœ¨å‡½æ•°çš„å˜é‡ã€‚è¿™äº›å˜é‡é‡‡ç”¨å€¼æ•è·çš„æ–¹å¼ï¼Œè€Œä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å¼•ç”¨æ–¹å¼æ•è·ã€‚<i>identifier_list</i>ä¸­çš„åå­—å‰é¢ä¸èƒ½ä½¿ç”¨& |
| [=,<i>identifier_list</i>] |      <i>identifier_list</i>ä¸­çš„å˜é‡éƒ½é‡‡ç”¨å¼•ç”¨æ–¹å¼æ•è·ï¼Œè€Œä»»ä½•éšå¼æ•è·çš„å˜é‡éƒ½é‡‡ç”¨å€¼æ–¹å¼æ•è·ã€‚<i>identifier_list</i>ä¸­çš„åå­—**ä¸èƒ½åŒ…æ‹¬this**,ä¸”è¿™äº›åå­—ä¹‹å‰å¿…é¡»ä½¿ç”¨&      |

#### å¯å˜lambda

é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€ä¸ªè¢«å€¼æ•è·çš„å˜é‡ï¼Œæ˜¯ä¸ä¼šè¢«ä¿®æ”¹çš„ã€‚ä½†æ˜¯å¦‚æœå¸Œæœ›ä¿®æ”¹ï¼Œåˆ™éœ€è¦åœ¨å‚æ•°åˆ—è¡¨å°¾åŠ ä¸Šå…³é”®å­—mutableã€‚

ä¾‹å¦‚ï¼š

```cpp
size_t v1=42;
auto f=[v1]()mutable{return ++v1;};
v1=0;
auto j=f();
std::cout << j << std::endl;
return 0;
```

å¯¹äºå¼•ç”¨æ•è·çš„å˜é‡æ˜¯å¦å¯ä»¥ä¿®æ”¹ä¾èµ–äºæ­¤å¼•ç”¨æŒ‡å‘çš„æ˜¯ä¸€ä¸ªconstç±»å‹è¿˜æ˜¯éconstç±»å‹ã€‚

ä¾‹å¦‚ï¼š

```cpp
size_t v1=42;
auto f=[&v1]{return ++v1;};
v1=0;
auto j=f(); // jä¸º1
```

#### æŒ‡å®šlambdaè¿”å›ç±»å‹

> é»˜è®¤æƒ…å†µä¸‹ï¼Œ**å¦‚æœä¸€ä¸ªlambdaä½“åŒ…å«returnä¹‹å¤–çš„ä»»ä½•è¯­å¥ï¼Œåˆ™ç¼–è¯‘å™¨å‡å®šæ­¤lambdaè¿”å›void
**ã€‚ä¸å…¶ä»–è¿”å›voidçš„å‡½æ•°ç±»ä¼¼ï¼Œè¢«æ¨æ–­è¿”å›voidçš„lambdaä¸èƒ½è¿”å›å€¼ã€‚

æ‰€ä»¥ï¼Œå¦‚æœlambdaä½“å«æœ‰å¤šè¡Œè¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹ç¡®å®šè¿”å›ç±»å‹ã€‚

ä¾‹å¦‚ï¼š

```cpp
/* å°†v1ä¸­æ¯ä¸ªè´Ÿæ•°æ›¿æ¢ä¸ºå…¶ç»å¯¹å€¼ */
// transformç®—æ³•å°†ä¸€ä¸ªåºåˆ—ä¸­å…ƒç´ è¿›è¡Œæ›¿æ¢ã€‚
transform(v1.begin(),v1.end(),v1.begin,
		[](int i){return i<0?-i:i;}); // true
transform(v1.begin(),v1.end(),v1.begin,
		[](int i){if (i<0) return -i; else return i;); // false
```

åœ¨ç¬¬äºŒä¸ªtransformç®—æ³•ä¸­ï¼Œç”±äºlambdaè¡¨è¾¾å¼è¿”å›ä¸ºvoidï¼Œä½†æ˜¯å…¶æœ¬åº”è¯¥è¿”å›intå€¼ã€‚æ‰€ä»¥ç¼–è¯‘å™¨ç¼–è¯‘é”™è¯¯ã€‚

ä¿®æ”¹ä¸ºï¼š

```cpp
transform(v1.begin(),v1.end(),v1.begin,
		[](int i) -> int {if (i<0) return -i; else return i;); 
```

### å‚æ•°ç»‘å®š

ä¸ºäº†è§£å†³æŸä¸ªå‡½æ•°ä¸­è°ƒç”¨å¯¹è±¡ï¼ˆå¦‚å‡½æ•°ï¼‰å¿…é¡»æ¥å—å•ä¸€å‚æ•°é—®é¢˜ï¼Œæ ‡å‡†åº“å®šä¹‰bindå‡½æ•°ï¼ˆå®šä¹‰åœ¨functionalå¤´æ–‡ä»¶ä¸­ï¼‰æ¥è§£å†³è¯¥é—®é¢˜ã€‚

å¯ä»¥å°†bindçœ‹ä½œä¸€ä¸ªé€šç”¨çš„å‡½æ•°é€‚é…å™¨ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªæ–°å¯è°ƒç”¨å¯¹è±¡æ¥â€œé€‚åº”â€åŸå¯¹è±¡çš„å‚æ•°åˆ—è¡¨ã€‚

ä¸€èˆ¬å½¢å¼ï¼š

```cpp
auto newCallable=bind(callable,arg_list);
```

<i>arg_list</i>è¡¨ç¤ºä¸€ä¸ªå«æœ‰é€—å·éš”ç¦»çš„å‚æ•°åˆ—è¡¨ï¼Œå¯¹åº”ç»™å®šçš„callableçš„å‚æ•°ã€‚åœ¨arg_listä¸­å¯èƒ½åŒ…å«å½¢å¦‚â€œ_nâ€ï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªæ•´æ•°ã€‚è¿™äº›å‚æ•°ç§°ä¸ºâ€œå ä½ç¬¦â€ï¼Œç”¨äºè¡¨ç¤ºnewCallableçš„å‚æ•°ï¼Œå…¶å æ®ä¼ é€’ç»™newCallableçš„å‚æ•°çš„â€œä½ç½®â€ã€‚

ä¾‹å¦‚ï¼š

```cpp
// check6æ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œæ¥å—ä¸€ä¸ªstringç±»å‹çš„å‚æ•°
auto check6=bind(check_size,_1,6);
```

_1å‡ºç°åœ¨arg_listçš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œè¡¨ç¤ºcheck6çš„æ­¤å‚æ•°å¯¹åº”check_sizeçš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚åŠ å…¥è¯¥å‚æ•°æ˜¯ä¸€ä¸ªconst string&ã€‚é‚£ä¹ˆï¼Œè°ƒç”¨check6æ—¶å¿…é¡»ä¼ é€’ç»™å®ƒä¸€ä¸ªstringç±»å‹çš„å‚æ•°ã€‚

å®Œæ•´ä»£ç ï¼š

```cpp
#include <iostream>
#include <functional>

bool check_size(const std::string& s,size_t size){
    return s.size()>size;
}
int main () {
    std::string str("hello world!");
    auto check6=std::bind(check_size,std::placeholders::_1,6);
    std::cout << "The size of str is greater than 6 ? "<<(check6(str)?"yes":"no") << std::endl;
}
```

åœ¨å®Œæ•´ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°åœ¨â€œ_1â€å‰å¢åŠ äº†å‘½åç©ºé—´â€œplaceholdersâ€ã€‚è¿™ä¸ªå‘½åç©ºé—´æœ¬èº«å®šä¹‰åœ¨stdå‘½åç©ºé—´ä¸­ã€‚åå­—_néƒ½å®šä¹‰åœ¨ä¸Šè¿°çš„å‘½åç©ºé—´ä¸­ã€‚

åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡éƒ½ä¹¦å†™å£°æ˜å ä½ç¬¦å¾ˆéº»çƒ¦ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥è¿ç”¨åˆ°usingå£°æ˜ï¼š

`using namespace namespace_name;`

bindé™¤äº†å¯ä»¥ä¿®æ­£å‚æ•°å¤–ï¼Œè¿˜å¯ä»¥å¯¹å¯è°ƒç”¨å¯¹è±¡ä¸­çš„å‚æ•°è¿›è¡Œæ’åºã€‚

```cpp
// å­˜åœ¨gå¯è°ƒç”¨å¯¹è±¡ï¼Œå…¶å­˜åœ¨5ä¸ªå‚æ•°
auto g=bind(f,a,b,_2,c,_1);
// è°ƒç”¨gï¼Œå®é™…ä¸Šæ˜ å°„åˆ°bindä¸Šä¸ºï¼šbind(f,a,b,Y,c,X);
g(X,Y);
```

å®ä¾‹ï¼š

```cpp
// æŒ‰ç…§å•è¯é•¿åº¦å‡åº
sort(words.begin(),words.end(),isShorter);
// æŒ‰ç…§å•è¯é•¿åº¦é™åº
sort(words.begin(),words.end(),bind(isShorter,_2,_1));
```

å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»‘å®šçš„å‚æ•°ä»¥å¼•ç”¨æ–¹å¼ä¼ é€’ï¼Œæˆ–è€…å¸Œæœ›è¢«ç»‘å®šçš„å‚æ•°ä¸ºconstï¼Œé‚£ä¹ˆéœ€è¦ç”¨åˆ°æ ‡å‡†åº“ä¸­çš„refå’Œcrefå‡½æ•°ã€‚ï¼ˆä¸¤å‡½æ•°å‡å®šä¹‰åœ¨functionalå¤´æ–‡ä»¶ä¸­ï¼‰

- refå‡½æ•°ï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ç»™å®šçš„å¼•ç”¨ï¼Œæ­¤å¯¹è±¡æ˜¯å¯ä»¥æ‹·è´çš„
- crefå‡½æ•°ï¼šç”Ÿæˆä¸€ä¸ªä¿å­˜constå¼•ç”¨çš„ç±»

å®ä¾‹ï¼š

```cpp
ostream &print(ostream &os,const string &s,char c){
	return os<<s<<c;
}

for_each(words.begin(),words.end(),bind(print,ref(os),_1,' '));
```

## 10.4 å†æ¢è¿­ä»£å™¨

- æ’å…¥è¿­ä»£å™¨
  > ç»‘å®šåˆ°ä¸€ä¸ªå®¹å™¨ä¸Šï¼Œå‘å®¹å™¨æ’å…¥å…ƒç´ 
- æµè¿­ä»£å™¨
  > ç»‘å®šåˆ°è¾“å…¥è¾“å‡ºæµä¸Šï¼Œå¯ç”¨æ¥éå†æ‰€æœ‰å…³è”çš„IOæµ
- åå‘è¿­ä»£å™¨
  > è¿­ä»£å™¨å‘åç§»åŠ¨ï¼Œé™¤äº†forward_listä¹‹å¤–çš„å®¹å™¨å‡æœ‰åå‘è¿­ä»£å™¨
- ç§»åŠ¨è¿­ä»£å™¨
  > ä¸“ç”¨è¿­ä»£å™¨ï¼Œä¸æ˜¯æ‹·è´å…ƒç´ è€Œæ˜¯ç§»åŠ¨å…ƒç´ 

### æ’å…¥è¿­ä»£å™¨

æ’å…¥å™¨ï¼ˆæ’å…¥è¿­ä»£å™¨ï¼‰æ˜¯ä¸€ç§**è¿­ä»£å™¨é€‚é…å™¨**ï¼Œå…¶æ¥å—ä¸€ä¸ªå®¹å™¨ï¼Œç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼Œå®ç°å‘ç»™å®šå®¹å™¨æ·»åŠ å…ƒç´ ã€‚

> é€šè¿‡æ’å…¥è¿­ä»£å™¨è¿›è¡Œèµ‹å€¼æ—¶ï¼Œè¿­ä»£å™¨**è°ƒç”¨å®¹å™¨æ“ä½œ**å‘ç»™å®šå®¹å™¨çš„æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚

|    æ’å…¥è¿­ä»£å™¨æ“ä½œ    |                                                         è§£é‡Š                                                          |
|:-------------:|:-------------------------------------------------------------------------------------------------------------------:|
|     it=t      | åœ¨itæŒ‡å®šçš„å½“å‰ä½ç½®æ’å…¥å€¼tã€‚å‡è®¾cæ˜¯itç»‘å®šçš„å®¹å™¨ï¼Œä¾èµ–äºæ’å…¥è¿­ä»£å™¨çš„ä¸åŒç§ç±»ï¼Œæ‰èµ‹å€¼ä¼šåˆ†åˆ«è°ƒç”¨c.push_back(t)ã€c.push_front(t)æˆ–c.insert(t,p)ï¼Œå…¶ä¸­pä¸ºä¼ é€’ç»™inserterçš„è¿­ä»£å™¨ä½ç½® |
| *it,++it,it++ |                                                  ä¸ä¼šå¯¹itåšä»»ä½•äº‹æƒ…ï¼Œå‡è¿”å›it                                                   |

æ’å…¥å™¨æœ‰ä¸‰ç§ï¼š

- back_inserter
	- åˆ›å»ºä¸€ä¸ªä½¿ç”¨push_backçš„è¿­ä»£å™¨
- front_inserter
	- åˆ›å»ºä¸€ä¸ªä½¿ç”¨push_frontçš„è¿­ä»£å™¨
	- å…ƒç´ æ€»æ˜¯æ’å…¥åˆ°å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰
- inserter
	- åˆ›å»ºä¸€ä¸ªä½¿ç”¨insertçš„è¿­ä»£å™¨ã€‚å‡½æ•°æ¥å—ç¬¬äºŒå‚æ•°ï¼Œå…¶å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæŒ‡å‘ç»™å®šå®¹å™¨çš„è¿­ä»£å™¨ã€‚å…ƒç´ å°†è¢«æ’å…¥åˆ°ç»™å®šè¿­ä»£å™¨æ‰€è¡¨ç¤ºçš„å…ƒç´ 
	  **ä¹‹å‰**

ç¤ºä¾‹ï¼š

```c++
#include <iostream>
#include <list>

int main(){
    std::list<int> list_1={1,2,3,4};
    std::list<int> list_2,list_3;
    std::copy(list_1.cbegin(),list_1.cend(),std::front_inserter(list_2));
    std::copy(list_1.cbegin(),list_1.cend(),std::inserter(list_3,list_3.begin()));

    // 4 3 2 1 
    for(auto const& var : list_2) {
        std::cout << var<<" ";
    }
    std::cout << std::endl;
    // 1 2 3 4
    for(auto const& var : list_3) {
        std::cout << var << " ";
    }
}
```

### iostreamè¿­ä»£å™¨

> iostreamè¿­ä»£å™¨å°†æµå½“ä½œä¸€ä¸ªç‰¹å®šç±»å‹çš„**å…ƒç´ åºåˆ—**æ¥å¤„ç†ã€‚

- istream_iterator
  > è¯»å–è¾“å…¥æµ
- ostream_iterator
  > å‘ä¸€ä¸ªè¾“å‡ºæµå†™æ•°æ®

#### istream_iteratoræ“ä½œ

åˆ›å»ºä¸€ä¸ªæµè¿­ä»£å™¨æ—¶ï¼Œ**å¿…é¡»æŒ‡å®šè¿­ä»£å™¨å°†è¦è¯»å†™çš„å¯¹è±¡ç±»å‹
**ã€‚åŒæ—¶ç”±äºistream_iteratorä½¿ç”¨>>æ¥è¯»å–æµï¼Œæ‰€ä»¥ï¼Œistream_iteratoræ‰€è¯»å–çš„ç±»å‹å¿…é¡»å®šä¹‰äº†è¾“å…¥è¿ç®—ç¬¦ã€‚

ç¤ºä¾‹ï¼š

1ã€

```cpp
// ç»‘å®šåˆ°æµä¸Š
istream_iterator<int> int_it(cin);
// é»˜è®¤åˆå§‹åŒ–ï¼Œåˆ›å»ºå¯ä»¥å½“ä½œå°¾åå€¼ä½¿ç”¨çš„è¿­ä»£å™¨
istream_iterator<int> int_eof;
// ä»â€œabcâ€ä¸­è¯»å–å­—ç¬¦ä¸²
ifstream in("abc");
istream_iterator<string> str_it(in);
```

2ã€

```cpp
// main.cpp
#include <iostream>
#include <vector>
#include <iterator>

int main(){
    std::vector<int> vec;
    std::istream_iterator<int> in_iter(std::cin), eof;
    while (in_iter != eof) {
        vec.push_back(*in_iter++);
    }
    // å¯ä»¥ä¼˜åŒ–ä¸ºï¼š
    // vector<int> vec(in_iter,eof);
    for (const auto& var : vec)
        std::cout << var << " "; 
}
```

> ç¨‹åºæ‰§è¡Œï¼š
> ```bash
> $ g++ -o main -g main.cpp
> $ ./main
> 1 2 3
> 1 2 3 â
> ```
> è¯¥ç¨‹åºä»cinæµä¸­è¯»å–intå€¼ï¼ˆæ³¨æ„ï¼šæ— éœ€å†æ¬¡æ·»åŠ cinè¡¨è¾¾å¼ï¼Œåˆå§‹åŒ–istream_iteratorå·²ç»æ˜ç¡®è¡¨é¢æ‰§è¡Œcinç¨‹åºï¼‰ã€‚
>
> ç”±äºeofä¸ºç©ºistream_iteratorï¼Œæ‰€ä»¥å¯ä»¥å½“ä½œå°¾åè¿­ä»£å™¨ä½¿ç”¨ã€‚

|     istream_iteratoræ“ä½œ      |                         è§£é‡Š                          |
|:---------------------------:|:---------------------------------------------------:|
| istream_iterator<T> in(is); |        ä»è¾“å…¥æµisä¸­è¯»å–ç±»å‹ä¸ºTçš„è¿­ä»£å™¨ï¼Œåä¸ºinï¼ˆé€šå¸¸isä¸ºstd::cinï¼‰        |
|  istream_iterator<T> end;   |       è¯»å–ç±»å‹ä¸ºTçš„å€¼çš„istream_iteratorè¿­ä»£å™¨ï¼Œé€šå¸¸è¡¨ç¤ºå°¾åè¿­ä»£å™¨        |
|    in1==in2<br/>in1!=in2    | in1å’Œin2å¿…é¡»è¯»å–ç›¸åŒç±»å‹çš„å€¼ã€‚å¦‚æœäºŒè€…å‡æ˜¯å°¾åè¿­ä»£å™¨ï¼Œæˆ–è€…ç»‘å®šåˆ°ç›¸åŒçš„è¾“å…¥ï¼Œåˆ™äºŒè€…ç›¸ç­‰ã€‚å¦åˆ™ä¸ç­‰ |
|             *in             |                      è¿”å›ä»æµä¸­è¯»å–çš„å€¼                      |
|           in->mem           |                   ä¸(*in).memå«ä¹‰ä¸€è‡´                    |
|          ++in,in++          |             ä½¿ç”¨å…ƒç´ ç±»å‹æ‰€å®šä¹‰çš„>>è¿ç®—ç¬¦ä»è¾“å…¥æµä¸­è¯»å–ä¸‹ä¸€ä¸ªå€¼              |

#### ä½¿ç”¨ç®—æ³•æ“çºµç¬¦æµè¿­ä»£å™¨

æ³›å‹ç®—æ³•ä¾é è¿­ä»£å™¨æ“çºµæ•°æ®ä»è€Œå®ç°ã€‚

å¦‚ï¼š`accumulate`ç®—æ³•è®¡ç®—å’Œï¼š

```cpp
#include <iostream>  
#include <numeric>
#include <iterator>

int main() {
    std::istream_iterator<int> in(std::cin),eof;
    std::cout << std::accumulate(in,eof,0) << std::endl;
}
```

> RUN
>
> ```cpp
> $ ./main
> 1 2 3 4 5 6 7
> 28
> ```

#### istream_iteratorå…è®¸ä½¿ç”¨æ‡’æƒ°æ±‚å€¼

å½“æµè¿­ä»£å™¨ç»‘å®šåˆ°æŸä¸ªæµä¸Šï¼Œæ ‡å‡†åº“å¹¶ä¸ä¿è¯è¿­ä»£å™¨**ç«‹å³**ä»æµä¸­è¯»å–æ•°æ®ã€‚å…¶æ‰€ä¿è¯å½“ç¬¬ä¸€æ¬¡è§£å¼•ç”¨è¿­ä»£å™¨æ—¶ï¼Œä»æµä¸­è¯»å–æ•°æ®å·²å®Œæˆã€‚

åœ¨å¸¸è§„æƒ…å†µä¸‹å¹¶æ— å¤ªå¤§å½±å“ï¼Œä½†æ˜¯å½“åˆ›å»ºä¸€ä¸ªistream_iteratorï¼Œæ²¡ç”¨å°±é”€æ¯æˆ–è€…ä»ä¸¤ä¸ªä¸åŒå¯¹è±¡åŒæ­¥è¯»å–åŒä¸€ä¸ªæµï¼Œ**ä½•æ—¶è¯»å–**å°±å¯èƒ½å¾ˆé‡è¦ã€‚

#### ostream_iteratoræ“çºµ

å¯¹è¾“å‡ºæµç»‘å®šçš„ostream_iteratorå…è®¸ç¬¬äºŒå‚æ•°ï¼Œä¸”å‚æ•°ä¸ºå­—ç¬¦ä¸²ï¼ˆCé£æ ¼å­—ç¬¦ä¸²ï¼‰ã€‚ç”¨æ„ä¸ºï¼šåœ¨è¾“å‡ºæ¯ä¸ªå…ƒç´ åéƒ½ä¼šæ‰“å°æ­¤å­—ç¬¦ä¸²ã€‚

ç”±äºostream_iteratorä¸ºè¾“å‡ºæµè¿­ä»£å™¨ï¼Œæ‰€ä»¥<b>ã€Œ1ã€å¿…é¡»ç»‘å®šåˆ°ä¸€ä¸ªæŒ‡å®šæµã€ã€Œ2ã€ä¸å…è®¸ä¸ºç©ºæˆ–è€…è¡¨ç¤ºå°¾åä½ç½®</b>

|      ostream_iteratoræ“ä½œ      |                       è§£é‡Š                        |
|:----------------------------:|:-----------------------------------------------:|
| ostream_iterator<T> out(os); |             outå°†ç±»å‹ä¸ºTçš„å€¼**å†™åˆ°è¾“å‡ºæµ**osä¸­              |
| ostream_iterator out(os,d);  |       outå°†ç±»å‹ä¸ºTçš„å€¼å†™åˆ°è¾“å‡ºæµosä¸­ï¼Œæ¯ä¸ªå€¼åé¢éƒ½è¾“å‡ºä¸€ä¸ªdï¼ˆCé£æ ¼ï¼‰       |
|           out=val            | ç”¨<<è¿ç®—ç¬¦å°†valå†™åˆ°outæ‰€ç»‘å®šçš„ostreamä¸­ã€‚valçš„ç±»å‹å¿…é¡»ä¸outå¯å†™çš„ç±»å‹å…¼å®¹ |
|       *out,++out,out++       |       è¿™äº›è¿ç®—ç¬¦å…è®¸å­˜åœ¨ï¼Œä½†æ— æ³•å¯¹outåšä»»ä½•æ“ä½œï¼Œæ¯ä¸ªè¿ç®—ç¬¦éƒ½è¿”å›out        |

å®ä¾‹ï¼š

```cpp
#include <iostream>  
#include <iterator>

int main() {
    std::string str{"hello"};
    std::ostream_iterator<char> out(std::cout," ");
    for(auto var : str) {
        *out++=var;
    }
    std::cout;
}
```

> RUN
>
> ```cpp
> $ g++ -o main -g main.cpp
> $ ./main
> h e l l o â
> ```

> è™½ç„¶è§£å¼•ç”¨ä¸è‡ªå¢è¿ç®—ç¬¦å¯¹ostream_iteratorå¹¶æ— ä½œç”¨ï¼Œ`*out++=var`ä¸`out=var`å¹¶ä¸åŒºåˆ«ã€‚ä½†æ˜¯ï¼Œåœ¨ç¬¬ä¸€ç§å†™æ³•æ›´ç¬¦åˆè¿­ä»£å™¨ä¸»æµå†™æ³•ï¼Œä¸å…¶ä»–è¿­ä»£å™¨ä¿æŒä¸€è‡´ã€‚æ–¹ä¾¿é˜…è¯»ä¸ä¿®æ”¹ã€‚

#### ä½¿ç”¨æµè¿­ä»£å™¨å¤„ç†ç±»ç±»å‹

æˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å®šä¹‰äº†è¾“å…¥è¿ç®—ç¬¦ï¼ˆ>>ï¼‰çš„ç±»å‹åˆ›å»ºistream_iteratorå¯¹è±¡ï¼ŒåŒæ ·ï¼Œä¹Ÿå¯ä»¥ä¸ºä»»ä½•ä»»ä½•å®šä¹‰è¾“å‡ºè¿ç®—ç¬¦ï¼ˆ<<)çš„ç±»å‹åˆ›å»ºostream_iteratorå¯¹è±¡ã€‚
