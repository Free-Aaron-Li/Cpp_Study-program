# 第二章 变量和基本类型

## 前言

数据类型是程序的基础：它告诉我们数据的意义以及我们能在数据上执行的操作。

## 2.1 基本内置类型

C++定义了包括**算术类型**（arithmetic type）和**空类型**（void）在内的基本数据类型。

### 2.1.1 算术类型

算术类型分为两类：整型和浮点型。

具体分类：

|     类型      |    含义     |  最小容量   |
|:-----------:|:---------:|:-------:|
|    bool     |   布尔类型    |   未定义   |
|    char     |    字符     |   8位    |
|   wchar_t   |    宽字符    |   16位   |
|  char16_t   | Unicode字符 |   16位   |
|  char32_t   | Unicode字符 |   32位   |
|    short    |    短整型    |   16位   |
|     int     |    整型     |   16位   |
|    long     |    长整型    |   32位   |
|  long long  |    长整型    |   64位   |
|    float    |  单精度浮点数   | 6位有效数字  |
|   double    |  双精度浮点数   | 10位有效数字 |
| long double |  扩展精度浮点数  | 10位有效数字 |

> 基本数据类型char，其空间应确保可以存放机器基本字符集中任意字符对应的数字值。即一个char的大小和一个机器字节一样。

除去布尔型和扩展的字符型之外，其他整型可以划分为**带符号的**（signed）和**无符号的**（unsigned）两种。

> 其中char类型是个特殊存在，其存在三种类型：char、signed char和unsigned char。但是字符的表现形式仅有两种，
> 根据编译器决定类型char实际上应该表现为那种形式（无符号/有符号）。同时由于其表现形式由编译器决定，存在唯二性，
> 所以在算术表达式中不能使用char类型。（实在要使用，**必须规定其具体类型**）

### 2.1.2 类型转换

对象的类型定义了对象能包含的数据和能参与的运算。**类型所能表示的值的范围决定了转换的过程**。

>
当赋给无符号类型一个超出它表示范围的值时，结果时初始值对无符号类型表示数值总数取模后的余数。例如：`unsigned char c = -1 //假设char占8比特，c的值为255`
> ,由于8比特大小的无符号char可以表示0~255内的值，其实际结果便是该值对256取模后得到的余数255。
>
> 当赋给带符号类型一个超出它范围的值时，结果时**未定义的**（undefined），存在一下可能：程序可能正常工作、可能程序崩溃
> 可能产生未知的数据（即垃圾数据）

> PS:
>
> **程序应当尽量避免依赖于实现环境的行为、避免无法预知的行为**

### 2.1.3 字面值常量

形如 12 的值被称为**字面值常量**（literal）。每个字面值常量都对应一种数据类型，其形式和值决定了它的数据类型。

#### 整型和浮点型字面值

整型字面值具体的数据类型由其符号和值决定。

```c++
20 /* 十进制 */
024 /* 八进制 */
0x24 /* 十六进制 */
```

> 默认，十进制为带符号数，剩下两种都有可能。

#### 字符和字符串字面值

字符串字面值的类型实际是由常量字符构成的数组。编译器在每个字符串的结尾处添加一个空字符“\0”，因此，实际长度比内容多1。

#### 转义字符

C++语言规定的转义序列包括：

```
换行符     \n          横向制表符       \t          报警（响铃）符     \a
纵向制表符  \v          退格符          \b          双引号           \"
反斜杠     \\          问号            \?          单引号           \'
回车符     \r          进纸符          \f
```

通过为字面值添加前缀和后缀，可以改变整型、浮点型和字符型字面值的默认类型。

#### 布尔字面值和指针字面值

true和false是布尔类型的字面值，nullptr是指针字面值。

---

## 变量

变量提供一个具名的、可供程序操作的**存储空间**
。C++中每个变量都有数据类型，数据类型决定着变量所占内存空间的大小和布局方式、该空间能存储的值的范围，以及变量能参与的运算。对于C++程序员来说，“变量（variable）”和“对象（object）”一般可以互换使用。

### 2.2.1 变量定义

变量定义的基本格式：**类型说明符**（type specifier），一个或多个变量名组成的列表。

> PS:
> 
> 对象（object），指一块能存储数据并具有某种类型的内存空间。
> 一部分人认为：仅在与类有关的场景下才能使用“对象”这个词；一部分人认为应该将把命名的对象和未命名的对象区分开
> 将命名了的对象叫做变量；还有一部分人仍未应该将能够被程序修改的数据称为对象，而只读程序称为值（value）

#### 初始化

当对象在创建时获得一个特定的值，称为这个对象被**初始化**（initialized）了。

> 初始化并不是赋值，虽然都是通过=方式，初始化的含义是创建变量时赋予其一个初始值，而赋值的含义是把对象的当前值
> 擦除，而以一个新值来代替。
