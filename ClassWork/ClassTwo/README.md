# 实验二、栈和队列的应用

---
> 注意
> 
> 由于在Linux平台开发，使用MinGW编译得到的exe可执行文件并不能完整执行程序，特此制作录屏供观看。
> 
---

## 架构

初步计划：

- UI端实现输出内容的丰富和可阅读性
- 算法端实现三目标：①、通过堆栈实现十进制转多种进制；②、实现共享栈；③、通过堆栈和队列判断给入整数顺序链是否正确。

---

## 实现算法

### 题一、进制转换

利用栈的基本操作实现将任意一个十进制整数转化为 R（2-16）进制的整数。

#### 思路

进制转换从本质上便是所选数取对应进制大小的余数，最后从底到高取值。
例如：将43(D)转换为二进制
```markdown
原数  除数  取余
43    2    1
21    2    1
10    2    0
5     2    1
2     2    0
-     -    1
```
那么最终二进制值为：`101011`，其正好复合栈的特点“后进先出”。那么便可以使用栈解决进制转换问题。

#### 方案

要求十进制转二进制和十六进制。

栈采用什么基本数据类型？

使用`int`类型，若采用`char`类型，会出现一种情况：标准输出`cout`并不能直接输出1、2等数字，其会默认当做ASCII码输出，最终还需转换成`int`类型输出。

使用`int`类型输出，最终只需要进行强制类型转换为`char`形式并使用`ASCII`输出即可。

---

### 题二、共享栈

设有两个栈 s1,s2 都采用顺序栈方式，并共享一个存储区[0,..,maxsize-1]，为了尽量利用空间，减少溢出的可能，可采用栈顶相向，迎面增长的存储方式。试设计 s1,s2 有关入栈和出栈的操作算法。

#### 思路

共享栈的原理是两个栈共同使用同一个栈(s3)，以达到节省内存空间的目的。设两个栈分别为s1和s2。

入栈：s1的入栈便是从s3的底部开始，由下往上压入元素，s2则是s3的顶部从上往下压入元素，当二者的顶部相遇表明s3已满。

出栈：s1从s1的顶部开始释放元素，依次从上往下释放，直到s1的栈碰到s3的底部代表全部释放；同理，s2从下往上释放元素，直到到达s3的顶部代表全部释放。

#### 方案

由于输入的数据本身为整数，所以选中`int`类型的栈。将两个栈当做普通栈操作，只是修改栈顶指针和栈底指针位置以达到目的。

---

### 题三、判断顺序

使用栈和队列模拟如下操作：1-n 之间的 n 个整数按照由小到大的某种顺序入栈，现给出某种出栈顺序，判断其是否正确，如果正确则输出 YES,否则输出 NO。
例如：
```markdown
1 2 3 4 5 YES
5 4 3 2 1 YES
1 4 2 3 5 NO
```

#### 思路

根据题意，其本质要求是入栈顺序已经固定，但是出栈顺序并未固定，由此便会有多种出栈顺序。借此我们可以使用队列配合栈完成此题。

队列本身是“先入先出”，那么用队列存放输入的出栈顺序，根据队列的出栈顺序来决定栈的出栈操作，借此判断该出栈顺序是否正确。

#### 方案

输入链为整数，所以队列和栈都选择使用`int`类型。

步骤：

①、将输入的出栈顺序传入队列

②、将输入的n个有小到大的顺序栈传入栈

③、根据队列的队头数字选择是否传入/传出/报错栈:

- 传入：若队头元素与入栈的元素不同且还有顺序链可以传入栈中，则选择传入
- 传出：若队头元素与入栈元素相同，则选择出栈
- 报错：若队头元素与入栈元素不同且顺序链已经全部传入栈中，则选择报错

---

## 项目结构

```txt

./ClassTwo/
├── 录屏
│   └── 录屏_jetbrains-clion_20230416213546.mp4
├── bin                                 // 二进制文件存放文件夹
│   └── ClassTwo                        // Linux可执行文件
├── CMakeLists.txt                      // CMake配置文件
├── docs                                // 文档存放文件夹
│   ├── C++ 命名规范.md
│   └── C++文件结构.md
├── include                             // C++头文件存放文件夹
│   ├── baseconversion.hpp              // 十进制转换
│   ├── main.hpp                        // 主程序
│   ├── menu.hpp                        // 页面
│   ├── orderofjudgment.hpp             // 判断出栈顺序
│   ├── queue.hpp                       // 队列
│   ├── sharestack.hpp                  // 共享栈
│   └── stack.hpp                       // 栈
├── README.md                           // README
└── src                                 // 源文件存放文件夹（实现代码）
    ├── algorithm                       // 算法文件夹
    │   ├── baseconversion.cpp          // 进制转换实现
    │   ├── orderofjudgment.cpp         // 判断出栈顺序实现
    │   ├── queue.cpp                   // 队列实现
    │   ├── sharestack.cpp              // 共享栈实现
    │   └── stack.cpp                   // 栈实现
    ├── main.cpp                        // 主程序，入口
    └── UI                              // 交互存放文件夹
        └── menu.cpp                    // 页面实现

7 directories, 20 files

```